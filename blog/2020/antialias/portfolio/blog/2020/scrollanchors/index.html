<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>     
  <link rel="stylesheet" href="/blog/css/blog.css">
  <script src="/blog/2020/scrollanchors/scroll.js"></script>     
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <title>
    ✨ Blog | Scroll anchors ✨
  </title>

</head>

<body>
  <article class="post">
    <blockquote>
      <h1>Scroll anchors</h1>
    </blockquote>
    <p>How to make browsers scroll to where you want.</p>
    <p>Automatic scrolling, a lot of websites use it. You see it often in single page websites, in form validation and some websites even use it after search pages to show you where on the page your query is located.</p>
    <div class="tip tip-right">
      <p>
        See also:       
      </p>
      <p>
        <a class="" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo">MDN Window.scrollTo()</a> 
      </p>
      <p>
        <a class="" href="https://api.jquery.com/scrolltop/">Jquery .scrollTop()</a> 
      </p>
    </div>


    <p id="example-start">An example speaks for itself.</p>
    <button type="button"  data-scroll="example-end" class="btn btn-primary anchor_link">Press me</button>  
    
    <blockquote>
      <h4>How does it work?</h4>

    </blockquote>

    <p>We define 2 HTML nodes with unique identifiers</p>
    <pre class="codeblock prettyprint">
      <code>
        &lt;p id=&quot;example-start&quot;&gt;An example speaks for itself.&lt;/p&gt;
        &lt;p id=&quot;example-end&quot;&gt;Welcome!&lt;/p&gt;
        </code>
      </pre>

      <p>Now we have two elements with unique IDs that we later on use to target the elements. You do not need to use IDs but it makes it pretty easy for sample's sake. Now we need some trigger event, in this case we use some buttons, but later on I'll show you how to use query params to do this</p>
      <pre class="codeblock prettyprint">
        <code>
        &lt;button type=&quot;button&quot; data-scroll=&quot;example-end&quot; class=&quot;btn btn-primary anchor_link&quot;&gt;Press me&lt;/button&gt;  
        &lt;button type=&quot;button&quot; data-scroll=&quot;example-start&quot; class=&quot;btn btn-primary anchor_link&quot;&gt;Press me to go back&lt;/button&gt;    
        </code>
        </pre>
        <p>So we defined two elements with data attributes, we named them data-scroll for clarifcation sake.</p>

        <p>Now we need some javascript logic to perform an action with these data attributes</p>
 
    <pre class="codeblock prettyprint"><code>
        $( document ).ready(function() {
          $('.anchor_link').click(function(e) {
              e.preventDefault();
              $('html, body').animate({
                  scrollTop: $('#' + $(this).data('scroll')).offset().top
              }, '300');
          });
        });
    </code></pre>
    <p>What we do here is a on click event on the class 'anchor link', a class shared by the buttons we defined earlier. Once clicked we do a 'animate', wich is just a jquery function to make our next action look nicer,
      wich is scroll top. Scroll top takes an offset argument, an offset of 0 would be the top of your page. 

      This is where the data-scroll matching the element ID comes in. We find the data-scroll of the clicked button with 
      $(this).data('scroll') if we wrap that inside a selector like so: $('#' + $(this).data('scroll') we find the ID(#) with the same name as the data-scroll. 

      Now we can find its position on the web page with $('#' + $(this).data('scroll')).offset().top
      This returns the pixels distance between the top and the element, the exact position we want to scroll to!
    </p>
    <p id="example-end">Welcome!</p>
    <button type="button"  data-scroll="example-start" class="btn btn-primary anchor_link">Press me to go back</button>    



    <blockquote>
      <h4>CSS scrolling behaviour</h4>
    </blockquote>
    <div class="tip tip-left">
      <p>
        <a class="" href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-behavior">MDN scroll-behavior</a> 
      </p>
    </div>

    
    <p>We can use CSS to change the behaviour of scrolling on the webpage, in our example above we use jquery to animate the scroll but there are other ways to smooth out scrolling</p>

    <pre class="codeblock prettyprint"><code>
        /* Keyword values */
        scroll-behavior: auto;
        scroll-behavior: smooth;
        
        /* Global values */
        scroll-behavior: inherit;
        scroll-behavior: initial;
        scroll-behavior: unset;
  </code></pre>


    <blockquote>
      <h4>Scroll to searchterms</h4>
    </blockquote>




    <p>So say you have a search on your website that returns a list of links as search results. By adding a single query parameter to that link we can improve the user experience for the user by scrolling to the search term on the page, and even highlighting the occurences on the page.</p>

    <p>For convience I've added the logic to this page, and by submitting this small form you can perform a search on this page. It is preloaded so just press submit.</p>
    <p>Note: There is no extensive logic behind this, so it will not perform any action when the search result returns nothing and/or if the query is 3 or less characters.</p>
    <form>
      <div class="form-group">
        <input type="text" class="form-control" id="searchterm" placeholder="search..." value="searchterms">
      </div>
      <button type="submit" class="btn btn-primary search-action">Submit</button>
    </form>
    <p>I suppose that is it for now, to be updated at some point.</p>
    <p>You can find the complete code here: </p>
    <a target="_blank"href="https://gist.github.com/RHeijnen/a7eb703a2cb9080437be0721b7e32a55"><img class=""src="/media/github.png"> </img></a>


  </article>
  <div id="disqus_thread"></div>

  <script>
   
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://heijnendev.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <script id="dsq-count-scr" src="//heijnendev.disqus.com/count.js" async></script>       
</body>

</html>